<h2 class="content-subhead">題目描述</h2><p>給予數個成績表單，每一個成績表單的欄位個數是變動的。第一個欄位為長度小於等於 31 個字符串表示名字，其他欄位會是一個整數型態 (signed 32-bits) 的成績格式。一個表單最多 128 個成績欄位，最多有 256 個成績記錄。</p>
<h3 class="content-subhead">範例說明</h3><p>A 表單為</p>
<table class="pure-table pure-table-bordered"><thead><tr>
<th>name\score</th>
<th>ex1</th>
<th>ex2</th>
<th>ex3</th>
</tr>
</thead><tbody><tr>
<td>pangfeng</td>
<td>100</td>
<td>100</td>
<td>99</td>
</tr>
<tr>
<td>morris</td>
<td>0</td>
<td>0</td>
<td>100</td>
</tr>
</tbody></table><p>打印出 A 表單時會給定排序方法</p>
<ul>
<li><p>例如按照 (ex1, ex2, ex3) 則表示先按照 ex1 進行降排序，相同時再按照 ex2，再相同最後是 ex3。最後輸出結果即為  </p>
<pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_94695" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">pangfeng, 100, 100, 99</code></div><div class="line number2 index1 alt1"><code class="plain">morris, 0, 0, 100</code></div></div></td></tr></tbody></table></div>
</code></pre></li>
<li><p>例如按照 (ex3, ex1, ex2) 則表示先按照 ex3 進行降排序，相同時再按照 ex1，再相同最後是 ex2。最後輸出結果即為  </p>
<pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_799498" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">morris, 0, 0, 100</code></div><div class="line number2 index1 alt1"><code class="plain">pangfeng, 100, 100, 99</code></div></div></td></tr></tbody></table></div>
</code></pre></li>
</ul>
<h3 class="content-subhead">實作細節</h3><p>接下來，你需要實作以下三個 function：</p>
<ul>
<li><code>void init(ExamTable *self, int n);</code><br>初始化某個表單且成績欄位恰好 n 個。</li>
<li><code>void addrow(ExamTable *self, char *name, int score[]);</code><br>增加某個表單的資料。</li>
<li><code>void print(ExamTable *self, int order[]);</code><br>根據 order 給定的順序進行排序後輸出。若成績都一樣，最後按照名字字典順序由小排到大。請參考範例輸出。</li>
</ul>
<h3 class="content-subhead">main.c</h3><pre><code class="lang-c"><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_461276" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include "pangfeng.h"</code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number3 index2 alt2"><code class="preprocessor">#include &lt;stdlib.h></code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="color1 bold">int</code> <code class="plain">main() {</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">const</code> <code class="color1 bold">int</code> <code class="plain">MAXETB = 8;</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">etb_n, dim_n;</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">cmds, cmd, tid, score[128], sort_order[128];</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">char</code> <code class="plain">sid[32];</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">ExamTable *etb = (ExamTable*) </code><code class="functions bold">malloc</code><code class="plain">(</code><code class="keyword bold">sizeof</code><code class="plain">(ExamTable)*MAXETB);</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &etb_n);</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; etb_n; i++) {</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &dim_n);</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">init(&etb[i], dim_n);</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &cmds);</code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; cmds; i++) {</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d %d"</code><code class="plain">, &cmd, &tid);</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">if</code> <code class="plain">(cmd == 1) {</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%s"</code><code class="plain">, sid);</code></div><div class="line number21 index20 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">j = 0; j &lt; etb[tid].dim_n; j++)</code></div><div class="line number22 index21 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &score[j]);</code></div><div class="line number23 index22 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">addrow(&etb[tid], sid, score);</code></div><div class="line number24 index23 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword bold">else</code> <code class="plain">{</code></div><div class="line number25 index24 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">j = 0; j &lt; etb[tid].dim_n; j++)</code></div><div class="line number26 index25 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &sort_order[j]);</code></div><div class="line number27 index26 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">print(&etb[tid], sort_order);</code></div><div class="line number28 index27 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number29 index28 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number30 index29 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">return</code> <code class="plain">0;</code></div><div class="line number31 index30 alt2"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">輸入格式</h2><p>第一行有一個整數 $n$ 表示有 $n$ 個表單，第二行上有 $n$ 個整數，分別表示 $table_0$, $table_1$, ..., $table_{n-1}$ 的成績欄位數 $\text{#field}_i$，第三行會有一個整數 $q$，表示接下來的操作次數。</p>
<p>接下來的 $q$ 行，每一行一組操作。</p>
<h2 class="content-subhead">範例輸入</h2><pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_469460" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">2</code></div><div class="line number2 index1 alt1"><code class="plain">3 4</code></div><div class="line number3 index2 alt2"><code class="plain">10</code></div><div class="line number4 index3 alt1"><code class="plain">1 0 pangfeng 100 100 99</code></div><div class="line number5 index4 alt2"><code class="plain">1 0 morris 0 0 100</code></div><div class="line number6 index5 alt1"><code class="plain">2 0 0 1 2</code></div><div class="line number7 index6 alt2"><code class="plain">2 0 2 0 1</code></div><div class="line number8 index7 alt1"><code class="plain">1 1 hank 5 5 6 6</code></div><div class="line number9 index8 alt2"><code class="plain">1 1 scott 5 7 6 6</code></div><div class="line number10 index9 alt1"><code class="plain">1 1 ahmad 5 5 6 7</code></div><div class="line number11 index10 alt2"><code class="plain">2 1 0 1 2 3</code></div><div class="line number12 index11 alt1"><code class="plain">2 1 3 1 2 0</code></div><div class="line number13 index12 alt2"><code class="plain">2 0 2 0 1</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">範例輸出</h2><pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_33856" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">----- table begin -----</code></div><div class="line number2 index1 alt1"><code class="plain">pangfeng, 100, 100, 99</code></div><div class="line number3 index2 alt2"><code class="plain">morris, 0, 0, 100</code></div><div class="line number4 index3 alt1"><code class="plain">----- end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----</code></div><div class="line number5 index4 alt2"><code class="plain">----- table begin -----</code></div><div class="line number6 index5 alt1"><code class="plain">morris, 0, 0, 100</code></div><div class="line number7 index6 alt2"><code class="plain">pangfeng, 100, 100, 99</code></div><div class="line number8 index7 alt1"><code class="plain">----- end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----</code></div><div class="line number9 index8 alt2"><code class="plain">----- table begin -----</code></div><div class="line number10 index9 alt1"><code class="plain">scott, 5, 7, 6, 6</code></div><div class="line number11 index10 alt2"><code class="plain">ahmad, 5, 5, 6, 7</code></div><div class="line number12 index11 alt1"><code class="plain">hank, 5, 5, 6, 6</code></div><div class="line number13 index12 alt2"><code class="plain">----- end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----</code></div><div class="line number14 index13 alt1"><code class="plain">----- table begin -----</code></div><div class="line number15 index14 alt2"><code class="plain">ahmad, 5, 5, 6, 7</code></div><div class="line number16 index15 alt1"><code class="plain">scott, 5, 7, 6, 6</code></div><div class="line number17 index16 alt2"><code class="plain">hank, 5, 5, 6, 6</code></div><div class="line number18 index17 alt1"><code class="plain">----- end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----</code></div><div class="line number19 index18 alt2"><code class="plain">----- table begin -----</code></div><div class="line number20 index19 alt1"><code class="plain">morris, 0, 0, 100</code></div><div class="line number21 index20 alt2"><code class="plain">pangfeng, 100, 100, 99</code></div><div class="line number22 index21 alt1"><code class="plain">----- end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Hint</h2><p>全部透過實作 function 的輸出和回傳值進行測試，不管你實作的 struct 細節。</p>
