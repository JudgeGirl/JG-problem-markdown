<h2 class="content-subhead">Problem Description</h2><p>Construct a binary tree in a level-by-level fashion. You will be given an array of n elements, and you will construct a tree with root having <code>array[0]</code> as the level, which has <code>array[1]</code> as it left child, and <code>array[2]</code> as its right child, and so on. Your function should return a pointer to the root of the constructed tree.</p>
<pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_137948" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">Node *construct(</code><code class="color1 bold">int</code> <code class="plain">array[], </code><code class="color1 bold">int</code> <code class="plain">n);</code></div></div></td></tr></tbody></table></div>
</code></pre><p>The definition of a Node is as follows.</p>
<h3 class="content-subhead">tree.h</h3><pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_622186" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#ifndef _TREE_H</code></div><div class="line number2 index1 alt1"><code class="preprocessor">#define _TREE_H</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="keyword bold">typedef</code> <code class="keyword bold">struct</code> <code class="plain">Node {</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">label;</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">struct</code> <code class="plain">Node *left, *right;</code></div><div class="line number7 index6 alt2"><code class="plain">} Node;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="plain">Node* construct(</code><code class="color1 bold">int</code> <code class="plain">array[], </code><code class="color1 bold">int</code> <code class="plain">n);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="preprocessor">#endif</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Subtasks</h2><ul>
<li>5pt. $n = 1$</li>
<li>5pt. $n = 2$</li>
<li>10pt. $n = 3$</li>
<li>30pt. $n$ is no more than $100$.</li>
<li>50pt. $n$ is no more than $1000$.</li>
</ul>
<h2 class="content-subhead">Hint</h2><p>It is easy to see that the left child of <code>array[i]</code> is <code>array[2 * i + 1]</code> and the right child is <code>array[2 * i + 2]</code>, so it is easy to construct the tree recursively.</p>
<p><div class="pure-u-g"><div class="pure-u-5-5"><a clss="" title=p10071 href=/images/problems/p10071-treearray.png><img class="pure-img-responsive" src="/images/problems/p10071-treearray.png" alt="p10071"></img></a><span class="caption">p10071</span></div></div></p>
<p><div class="pure-u-g"><div class="pure-u-5-5"><a clss="" title=p10071 href=/images/problems/p10071-tree.png><img class="pure-img-responsive" src="/images/problems/p10071-tree.png" alt="p10071"></img></a><span class="caption">p10071</span></div></div></p>
<h2 class="content-subhead">main.c (test)</h2><pre><code class="lang-c"><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_23439" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include "tree.h"</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="keyword bold">void</code> <code class="plain">printAndFree(Node *u) {</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">if</code> <code class="plain">(u == NULL)&nbsp;&nbsp;&nbsp; </code><code class="keyword bold">return</code> <code class="plain">;</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">printf</code><code class="plain">(</code><code class="string">"%d "</code><code class="plain">, u->label);</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printAndFree(u->left);</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printAndFree(u->right);</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">free</code><code class="plain">(u);</code></div><div class="line number10 index9 alt1"><code class="plain">}</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="color1 bold">int</code> <code class="plain">main() {</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">A[32767], n;</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">while</code> <code class="plain">(</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &n) == 1 && n != 0) {</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; n; i++)</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &A[i]);</code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">Node *root = construct(A, n);</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printAndFree(root);</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">puts</code><code class="plain">(</code><code class="string">""</code><code class="plain">);</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number21 index20 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">return</code> <code class="plain">0;</code></div><div class="line number22 index21 alt1"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">Sample Input</h2><pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_610460" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">1</code></div><div class="line number2 index1 alt1"><code class="plain">8</code></div><div class="line number3 index2 alt2"><code class="plain">3</code></div><div class="line number4 index3 alt1"><code class="plain">1 3 2</code></div><div class="line number5 index4 alt2"><code class="plain">8</code></div><div class="line number6 index5 alt1"><code class="plain">1 2 3 7 5 1 1 6</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output</h2><pre><code><span class="fw-code-copy-button pure-button"><i class="fa fa-clipboard"></i></span><div id="highlighter_994205" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">8 </code></div><div class="line number2 index1 alt1"><code class="plain">1 3 2 </code></div><div class="line number3 index2 alt2"><code class="plain">1 2 7 6 5 3 1 1</code></div></div></td></tr></tbody></table></div>
</code></pre>