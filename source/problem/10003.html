<h2 id="problem-description">Problem description</h2>
<p>Write a program to find the alternating sequence from the input that has the maximum length. A $k$-alternating sequence is a sequence of alternating $k$ positive integers and $k$ negative integers that starts and ends both with $k$ positive integers, and contains $\textbf{at least one}$ set of $k$ negative integers in between. For example, when $k$ is $2$ then $(2, 1, -3, -2, 7, 100)$ is a 2-alternating sequence, but none of $(1, 1, -23, 4)$, $(1, 2)$, $(1, 1, 3, -1, 1, 1)$ is. </p>
<p>Let us consider the following example. Now given an input sequence $(-3, 4, 6, -5, -3, 10, 7, -1, -1, 3, -7, 3)$, then $(4, 6, -5, -3, 10, 7)$ is the longest 2-alternating sequence and $(3, -7, 3)$ is the longest 1-alternating sequence. </p>
<p>Now given $k$ and a sequence of $n$ integers that ends in $0$, please find the length of the longest $k$-alternating sequence. If there are no $k$-alternating sequences in the input please report $0$.</p>
<h3 id="technical-specification-and-constraints">Technical Specification and constraints</h3>
<ul>
<li>30 pt. $n$ is between $1$ and $20$, and $k$ is $1$.</li>
<li>60 pt. $n$ is between $1$ and $100000$ and $k$ is between $1$ and $n$. </li>
<li>10 pt. $n$ is positive, and $k$ is between $1$ and $n$.</li>
</ul>
<h2 id="input-format">Input Format</h2>
<p>There are two lines in the input. The first line has the integer $k$. The second line has the sequence integers end with $0$.</p>
<h2 id="output-format">Output Format</h2>
<p>Only one line print the length of the longest $k$-alternating sequence.</p>
<h2 id="sample-input-1">Sample Input 1</h2>
<pre><code><div id="highlighter_969329" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">1</code></div><div class="line number2 index1 alt1"><code class="plain">1 -1 1 1 -1 1 -1 1 0</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 id="sample-output">Sample Output</h2>
<pre><code><div id="highlighter_429396" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">5</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 id="sample-input-2">Sample Input 2</h2>
<pre><code><div id="highlighter_373484" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">2</code></div><div class="line number2 index1 alt1"><code class="plain">-3 4 6 -5 -3 10 7 -1 -1 3 -7 3 0</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 id="sample-output-2">Sample Output 2</h2>
<pre><code><div id="highlighter_612342" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">6</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 id="hint">Hint</h2>
<p>We observe that since the sequence ends in $0$, there will be only segments of positive and negative numbers before that. Therefore you only need to remember whether you are in the middle of a positive or negative segment, and how many numbers you have seen in this segment. Also you need to remember whether you are in the middle of an alternating sequence or not. Now whenever you switch from a positive segment to a negative segment, or from a negative to a positive segment, you need to update these information, and the length of the longest sequence you have seen so far. After processing through the sequence you will know the answer.</p>
<h2 id="explain-for-sample-1">Explain for Sample 1</h2>
<pre><code><div id="highlighter_305339" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">k = 1</code></div><div class="line number2 index1 alt1"><code class="plain">(1 -1 1) 1 -1 1 -1 1 0</code></div><div class="line number3 index2 alt2"><code class="plain">length = 3</code></div><div class="line number4 index3 alt1"><code class="plain">1 -1 1 (1 -1 1 -1 1) 0</code></div><div class="line number5 index4 alt2"><code class="plain">length = 5</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 id="explain-for-sample-2">Explain for Sample 2</h2>
<pre><code><div id="highlighter_436020" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">k = 2</code></div><div class="line number2 index1 alt1"><code class="plain">-3 (4 6 -5 -3 10 7) -1 -1 3 -7 3 0</code></div><div class="line number3 index2 alt2"><code class="plain">length = 6</code></div></div></td></tr></tbody></table></div>
</code></pre>