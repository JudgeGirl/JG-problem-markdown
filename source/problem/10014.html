<h2 class="content-subhead">Problem description</h2><p>Write a program to process an expression. We will use an array (e.g. exp) to store the information about an expression. An expression consists of operators, including $+$, $-$, $\ast$ and $/$, and operands, like, $1$, $2$, and $-3$. </p>
<p>The first element $\text{exp}\lbrack 0]$ will be the sum of the number of operands and operators. For example, an expression $1 + 2 \ast -3 + 4 / 5 \ast 6$ has 5 operators and 6 operands, then $\text{exp}\lbrack 0]$ will be 11. Note that $\text{exp}\lbrack 0]$ is always an positive odd number (including 1) since the number of operand is always one greater than the number of the operators. Note that 3 is also a valid expression, with $\text{exp}\lbrack 0]$ equals to 1.</p>
<p>The rest of the array stores the operands and operators.  All operators are integer operators, and all operands are integers. Here we use 1 for $+$, 2 for $-$, 3 for $\ast$ and 4 for $/$. For example, in the previous example, $\text{exp}\lbrack 1]$ will be 1, $\text{exp}\lbrack 2]$ will be 1, $\text{exp}\lbrack 3]$ will  be 2, etc. Note that -3 is an operand so $\text{exp}\lbrack 5]$ will be -3.</p>
<p>Now given the array, please write function to evaluate the value of the expression the array represents. Note that you need to perform all $\ast$ and $/$ before $+$ and $-$. Also you need to perform these arithmetic functions from left to right. That is $1 + 4 \ast 3 / 2$ should be $(1 + ((4 \ast 3) / 2))$. You need to write the following function. The function has only a single parameter exp, and returns the value of the expression.</p>
<h3 class="content-subhead">main.c</h3><pre><code><div id="highlighter_672828" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include &lt;string.h></code></div><div class="line number3 index2 alt2"><code class="preprocessor">#include "eval.h"</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="color1 bold">int</code> <code class="plain">main() {</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="functions bold">exp</code><code class="plain">[1024];</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">memset</code><code class="plain">(</code><code class="functions bold">exp</code><code class="plain">, -1, </code><code class="keyword bold">sizeof</code><code class="plain">(</code><code class="functions bold">exp</code><code class="plain">));</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &</code><code class="functions bold">exp</code><code class="plain">[0]);</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 1; i &lt;= </code><code class="functions bold">exp</code><code class="plain">[0]; i++)</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &</code><code class="functions bold">exp</code><code class="plain">[i]);</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">ret = eval(</code><code class="functions bold">exp</code><code class="plain">);</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">printf</code><code class="plain">(</code><code class="string">"%d\n"</code><code class="plain">, ret);</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">return</code> <code class="plain">0;</code></div><div class="line number14 index13 alt1"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre><h3 class="content-subhead">eval.h</h3><pre><code><div id="highlighter_171424" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="color1 bold">int</code> <code class="plain">eval(</code><code class="color1 bold">int</code> <code class="functions bold">exp</code><code class="plain">[]);</code></div></div></td></tr></tbody></table></div>
</code></pre><h3 class="content-subhead">eval.c</h3><pre><code><div id="highlighter_837883" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include "eval.h"</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="color1 bold">int</code> <code class="plain">eval(</code><code class="color1 bold">int</code> <code class="functions bold">exp</code><code class="plain">[]) {</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">/* add your code */</code></div><div class="line number5 index4 alt2"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre><h3 class="content-subhead">Technical Specification and constraints</h3><ul>
<li>10 pt. There are only $+$ in the expression, and the expression is always valid.</li>
<li>20 pt. There are only $+$ and $-$ in the expression, and the expression is always valid.</li>
<li>50 pt. There are $+$, $-$, $\ast$ and $/$ in the expression, and the expression is always valid. In addition the $*$ and $/$ will not be adjacent to each other. For example, both $3 \ast 2 \ast 1 + 1$ and $3 + 3 \ast 4 / 5$ are not allowed, but $1 \ast 2 + 6 + 3 \ast 4 - 5 / 6 - 7$ is allowed.</li>
<li>10 pt. The expression may be invalid. The first case is that the code for operator may be invalid. In that case return <code>-2147483646</code>. The second case is divide-by-zero error. In that case return <code>-2147483647</code>. You must check the first case before the second case.</li>
<li>10 pt. There are $+$, $-$, $\ast$ and $/$ in the expression, and the expression is always valid. There are no additional constraints so both $3 \ast 2 \ast 1 + 1$ and $3 + 3 \ast 4 / 5$ are allowed.</li>
</ul>
<h2 class="content-subhead">Sample Input 0</h2><p>$1 + 7 - 3 = 5$ </p>
<pre><code><div id="highlighter_940014" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">5</code></div><div class="line number2 index1 alt1"><code class="plain">1 1 7 2 3</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 0</h2><pre><code><div id="highlighter_474522" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">5</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Input 1</h2><p>$1 + 2 \ast -3 + 4 / 5 \ast 6 = -5$</p>
<pre><code><div id="highlighter_814944" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">11</code></div><div class="line number2 index1 alt1"><code class="plain">1 1 2 3 -3 1 4 4 5 3 6</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 2</h2><pre><code><div id="highlighter_524097" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">-5</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Input 3</h2><p>$1 + 4 \ast 3 / 2 = 7$</p>
<pre><code><div id="highlighter_632316" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">7</code></div><div class="line number2 index1 alt1"><code class="plain">1 1 4 3 3 4 2</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 3</h2><pre><code><div id="highlighter_674734" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">7</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Input 4</h2><p>$1 ? 3$</p>
<pre><code><div id="highlighter_526901" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">3</code></div><div class="line number2 index1 alt1"><code class="plain">1 0 3</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 4</h2><pre><code><div id="highlighter_939966" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">-2147483646</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Input 4</h2><p>$1 / 0$</p>
<pre><code><div id="highlighter_563616" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">3</code></div><div class="line number2 index1 alt1"><code class="plain">1 4 0</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 4</h2><pre><code><div id="highlighter_217062" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">-2147483647</code></div></div></td></tr></tbody></table></div>
</code></pre>