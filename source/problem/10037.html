<h2 class="content-subhead">題目描述</h2><p>玩過蛇梯遊戲嗎？原本題目在一個二維平面上運行，若採到蛇就會往下掉，採到梯子就會往上升，先走到終點的人獲勝。這一題是一維情況的模擬，每一次走一步，把過程中經過的格子上數字輸出。</p>
<p><code>int **score;</code> 是一個無聊的指標陣列，存放盤面上數字的位址。<code>int ***towhere</code> 是一個指標的指標陣列，將會告訴你要移動到 <code>int **score;</code> 的指標陣列的位址。這麼說也許有點模糊，你可能需要時間去解析 <code>main.c</code>。</p>
<h3 class="content-subhead">main.c</h3><pre><code class="lang-c"><div id="highlighter_443555" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include &lt;stdlib.h></code></div><div class="line number3 index2 alt2"><code class="preprocessor">#include "snake.h"</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="color1 bold">int</code> <code class="plain">main() {</code></div><div class="line number6 index5 alt1"><code class="preprocessor">#define VERT(x, y) ((x)*m+(y))</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">n, m, o, step, x;</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">dice[1024];</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d %d"</code><code class="plain">, &n, &m);</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">**score = (</code><code class="color1 bold">int</code> <code class="plain">**) </code><code class="functions bold">malloc</code><code class="plain">((n*m+1)*</code><code class="keyword bold">sizeof</code><code class="plain">(</code><code class="color1 bold">int</code><code class="plain">*));</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">***towhere = (</code><code class="color1 bold">int</code> <code class="plain">***) </code><code class="functions bold">malloc</code><code class="plain">((n*m+1)*</code><code class="keyword bold">sizeof</code><code class="plain">(</code><code class="color1 bold">int</code><code class="plain">**));</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; n; i++) {</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">j = 0; j &lt; m; j++) {</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &x);</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">score[VERT(i, j)] = (</code><code class="color1 bold">int</code> <code class="plain">*)</code><code class="functions bold">malloc</code><code class="plain">(</code><code class="keyword bold">sizeof</code><code class="plain">(</code><code class="color1 bold">int</code><code class="plain">));</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">*score[VERT(i, j)] = x;</code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; n; i++) {</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">j = 0; j &lt; m; j++)</code></div><div class="line number21 index20 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">towhere[VERT(i, j)] = NULL;</code></div><div class="line number22 index21 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number23 index22 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">score[VERT(n, 0)] = NULL;</code></div><div class="line number24 index23 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">towhere[VERT(n, 0)] = NULL;</code></div><div class="line number25 index24 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &o);</code></div><div class="line number26 index25 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">for</code> <code class="plain">(</code><code class="color1 bold">int</code> <code class="plain">i = 0; i &lt; o; i++) {</code></div><div class="line number27 index26 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">sx, sy, ex, ey;</code></div><div class="line number28 index27 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d %d %d %d"</code><code class="plain">, &sx, &sy, &ex, &ey);</code></div><div class="line number29 index28 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">towhere[VERT(sx, sy)] = &score[VERT(ex, ey)];</code></div><div class="line number30 index29 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number31 index30 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d"</code><code class="plain">, &step);</code></div><div class="line number32 index31 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">simulate(score, towhere, step);</code></div><div class="line number33 index32 alt2"><code class="preprocessor">#undef VERT</code></div><div class="line number34 index33 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">return</code> <code class="plain">0;</code></div><div class="line number35 index34 alt2"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h3 class="content-subhead">snake.c</h3><pre><code class="lang-c"><div id="highlighter_188098" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include "snake.h"</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="color1 bold">int</code> <code class="plain">simulate(</code><code class="color1 bold">int</code> <code class="plain">**score, </code><code class="color1 bold">int</code> <code class="plain">***towhere, </code><code class="color1 bold">int</code> <code class="plain">step) {</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">// add your code</code></div><div class="line number6 index5 alt1"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h3 class="content-subhead">snake.h</h3><pre><code class="lang-c"><div id="highlighter_476548" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="color1 bold">int</code> <code class="plain">simulate(</code><code class="color1 bold">int</code> <code class="plain">**score, </code><code class="color1 bold">int</code> <code class="plain">***towhere, </code><code class="color1 bold">int</code> <code class="plain">step);</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">範例輸入</h2><pre><code><div id="highlighter_198506" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">3 4</code></div><div class="line number2 index1 alt1"><code class="plain">0 1 2 3</code></div><div class="line number3 index2 alt2"><code class="plain">4 5 6 7</code></div><div class="line number4 index3 alt1"><code class="plain">8 9 10 11</code></div><div class="line number5 index4 alt2"><code class="plain">2</code></div><div class="line number6 index5 alt1"><code class="plain">0 1 1 2</code></div><div class="line number7 index6 alt2"><code class="plain">2 2 0 2</code></div><div class="line number8 index7 alt1"><code class="plain">10</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">範例輸出</h2><pre><code><div id="highlighter_114720" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">0</code></div><div class="line number2 index1 alt1"><code class="plain">1</code></div><div class="line number3 index2 alt2"><code class="plain">6</code></div><div class="line number4 index3 alt1"><code class="plain">7</code></div><div class="line number5 index4 alt2"><code class="plain">8</code></div><div class="line number6 index5 alt1"><code class="plain">9</code></div><div class="line number7 index6 alt2"><code class="plain">10</code></div><div class="line number8 index7 alt1"><code class="plain">2</code></div><div class="line number9 index8 alt2"><code class="plain">3</code></div><div class="line number10 index9 alt1"><code class="plain">4</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">範例說明</h2><p>給予一個 $3 \times 4$ 的盤面，接著有 2 個瞬移的跳躍位置，要求你模擬 10 步，一開始一定在左上角 $(0, 0)$。</p>
<p>這一題很無聊，Morris 就不生測資。</p>
