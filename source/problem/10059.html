<h2 class="content-subhead">題目描述</h2><p>實作複數加法、減法、乘法。令 $i = \sqrt{-1}$。</p>
<h2 class="content-subhead">main.c</h2><pre><code class="lang-c"><div id="highlighter_62118" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#include &lt;stdio.h></code></div><div class="line number2 index1 alt1"><code class="preprocessor">#include &lt;stdlib.h></code></div><div class="line number3 index2 alt2"><code class="preprocessor">#include &lt;string.h></code></div><div class="line number4 index3 alt1"><code class="preprocessor">#include "complex.h"</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="color1 bold">int</code> <code class="plain">main() {</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex (*FUNC[])(complex *, complex *) = {</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex_add, complex_sub, complex_mul</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">};</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">int</code> <code class="plain">cmd;</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1 bold">float</code> <code class="plain">x, y, p, q;</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">while</code> <code class="plain">(</code><code class="functions bold">scanf</code><code class="plain">(</code><code class="string">"%d %f %f %f %f"</code><code class="plain">, &cmd, &x, &y, &p, &q) == 5) {</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex *A = (complex *) </code><code class="functions bold">malloc</code><code class="plain">(</code><code class="keyword bold">sizeof</code><code class="plain">(complex));</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex *B = (complex *) </code><code class="functions bold">malloc</code><code class="plain">(</code><code class="keyword bold">sizeof</code><code class="plain">(complex));</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">init(A, x, y), init(B, p, q);</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex C = FUNC[cmd](A, B);</code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">complex_print(&C);</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword bold">return</code> <code class="plain">0;</code></div><div class="line number20 index19 alt1"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">complex.h</h2><pre><code class="lang-c"><div id="highlighter_789425" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#ifndef _COMPLEX_H</code></div><div class="line number2 index1 alt1"><code class="preprocessor">#define _COMPLEX_H</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="comments">/*</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">define structure complex</code></div><div class="line number6 index5 alt1"><code class="comments">*/</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="keyword bold">void</code> <code class="plain">init(complex *c, </code><code class="color1 bold">float</code> <code class="plain">a, </code><code class="color1 bold">float</code> <code class="plain">b);</code></div><div class="line number9 index8 alt2"><code class="keyword bold">void</code> <code class="plain">complex_print(complex *x);</code></div><div class="line number10 index9 alt1"><code class="plain">complex complex_add(complex *x, complex *y);</code></div><div class="line number11 index10 alt2"><code class="plain">complex complex_sub(complex *x, complex *y);</code></div><div class="line number12 index11 alt1"><code class="plain">complex complex_mul(complex *x, complex *y);</code></div><div class="line number13 index12 alt2"><code class="preprocessor">#endif</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">Sample Input</h2><pre><code class="lang-c"><div id="highlighter_141621" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">0 3 2 1 4</code></div><div class="line number2 index1 alt1"><code class="plain">1 3 2 1 4</code></div><div class="line number3 index2 alt2"><code class="plain">2 3 2 1 4</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">Sample Output</h2><pre><code class="lang-c"><div id="highlighter_568472" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">4.000+6.000i</code></div><div class="line number2 index1 alt1"><code class="plain">2.000-2.000i</code></div><div class="line number3 index2 alt2"><code class="plain">-5.000+14.000i</code></div></div></td></tr></tbody></table></div>
</code></pre>
<h2 class="content-subhead">printf format</h2><pre><code class="lang-c"><div id="highlighter_484302" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="color1 bold">float</code> <code class="plain">a, b;</code></div><div class="line number2 index1 alt1"><code class="functions bold">printf</code><code class="plain">(</code><code class="string">"%.3f%+.3fi\n"</code><code class="plain">, a, b);</code></div></div></td></tr></tbody></table></div>
</code></pre>
