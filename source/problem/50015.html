<h2 class="content-subhead">Problem Description</h2><p>Given a word consisting of only lower case letters, please list all possible words that can be constructed by using exactly the letters from the given word. Your program must list all the constructed words in dictionary order.  However, there are some consecutive letter rules we need to follow. For example, if the rule is <code>&quot;xy&quot;</code>, then if the previous letter is <code>&#39;x&#39;</code> then the next letter cannot be <code>&#39;y&#39;</code>. There are up to 1000 rules.</p>
<p>For example, if you are given the word <code>&quot;egg&quot;</code>, and no rules, then the possible words are <code>&quot;egg&quot;</code>, <code>&quot;geg&quot;</code>, and <code>&quot;gge&quot;</code> in dictionary order. However, if we have a rule <code>&quot;ge&quot;</code>, then the only possible word will be <code>&quot;egg&quot;</code>.</p>
<h2 class="content-subhead">Subtasks</h2><ul>
<li>10pt. There are no rules and the word is <code>&quot;abc&quot;</code>.</li>
<li>30pt. There are only a&#39;s and b&#39;s in the word, and there is only one rule.</li>
<li>30pt. There are only a&#39;s, b&#39;s and c&#39;s in the word, and there are two rules.</li>
<li>20pt. There are multiple rules and all letters could appear multiple times. n is no more than 30.</li>
<li>10pt. There are multiple rules and all letters could appear multiple times.</li>
</ul>
<h2 class="content-subhead">Hint</h2><p>Since you need to use all letters in the word, so you only need to remember the number of times each letter apears. That is, you can put the number of times each letter appears in an array of size 26. Then you can solve this recursively by enumerating all possible first character.</p>
<p>To solve the last subtask you need to stop the recursion if you found that any rules has been violated. You should be able to pass up to the second last subtask if you only check the rules after enumerate all permutations.</p>
<h2 class="content-subhead">Sample Input 1</h2><pre><code><div id="highlighter_597154" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">abc</code></div><div class="line number2 index1 alt1"><code class="plain">0</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 1</h2><pre><code><div id="highlighter_846556" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">abc</code></div><div class="line number2 index1 alt1"><code class="plain">acb</code></div><div class="line number3 index2 alt2"><code class="plain">bac</code></div><div class="line number4 index3 alt1"><code class="plain">bca</code></div><div class="line number5 index4 alt2"><code class="plain">cab</code></div><div class="line number6 index5 alt1"><code class="plain">cba</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Input 2</h2><pre><code><div id="highlighter_323002" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">ababb</code></div><div class="line number2 index1 alt1"><code class="plain">1</code></div><div class="line number3 index2 alt2"><code class="plain">ba</code></div></div></td></tr></tbody></table></div>
</code></pre><h2 class="content-subhead">Sample Output 2</h2><pre><code><div id="highlighter_887681" class="syntaxhighlighter nogutter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">aabbb</code></div></div></td></tr></tbody></table></div>
</code></pre>